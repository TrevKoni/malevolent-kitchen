import "../../style.css";

document.addEventListener("DOMContentLoaded", function () {
  // Set inner HTML of search-form
  document.querySelector("#search-form").innerHTML = `
    <input
      type="text"
      name="search"
      placeholder="Search for a recipe..."
      id="search-input"
    />
    <svg
      width="25"
      height="25"
      viewBox="0 0 25 25"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      class="search-icon"
      id="search-icon"
      onclick="
        const searchTerm = document.querySelector('#search-input').value.trim();
        if (searchTerm !== '') {
          window.location.href = '/search/' + encodeURIComponent(searchTerm);
        }
      "
    >
      <path
        d="M23.6204 25.0049C23.4378 25.0053 23.2571 24.9696 23.0885 24.8997C22.9199 24.8299 22.7668 24.7272 22.6381 24.5978L17.914 19.8807C15.975 21.4028 13.5806 22.2288 11.1155 22.2261C8.91706 22.2261 6.76799 21.5741 4.94006 20.3528C3.11213 19.1314 1.68743 17.3954 0.846124 15.3643C0.00482044 13.3332 -0.215308 11.0982 0.213583 8.94204C0.642474 6.78584 1.70113 4.80526 3.25566 3.25073C4.81019 1.6962 6.79077 0.637546 8.94697 0.208655C11.1031 -0.220237 13.3382 -0.00010815 15.3692 0.841196C17.4003 1.6825 19.1363 3.1072 20.3577 4.93513C21.5791 6.76306 22.231 8.91213 22.231 11.1106C22.236 13.579 21.4098 15.9772 19.8856 17.9188L24.6028 22.6429C24.7937 22.8377 24.9232 23.0844 24.9748 23.3522C25.0265 23.6201 24.9982 23.8973 24.8934 24.149C24.7887 24.4009 24.6121 24.6164 24.3857 24.7686C24.1594 24.9209 23.8932 25.003 23.6204 25.0049ZM11.1155 2.77394C9.46667 2.77394 7.85487 3.26289 6.48392 4.17893C5.11297 5.09496 4.04444 6.39697 3.41347 7.92028C2.78248 9.4436 2.61739 11.1199 2.93906 12.7369C3.26073 14.3541 4.05472 15.8395 5.22061 17.0054C6.38652 18.1714 7.87196 18.9653 9.4891 19.287C11.1062 19.6086 12.7824 19.4436 14.3058 18.8126C15.8292 18.1817 17.1311 17.1131 18.0471 15.7421C18.9632 14.3712 19.4521 12.7594 19.4521 11.1106C19.4496 8.90034 18.5704 6.7814 17.0075 5.21853C15.4447 3.65567 13.3257 2.77653 11.1155 2.77394Z"
        fill="#F583D8"
      />
    </svg>
  `;
});
